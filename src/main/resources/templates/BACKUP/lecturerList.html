<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Lecturer List</title>
    <link
            href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600&display=swap"
            rel="stylesheet"
    />
    <link
            rel="stylesheet"
            href="https://unpkg.com/bulma@0.9.0/css/bulma.min.css"
    />
    <link rel="stylesheet" type="text/css" href="../static/css/style.css" th:href="@{/css/style.css}"/>
</head>
<body>
<section class="hero is-fullheight">
    <div class="hero-body">
        <div class="card-3d card-100-width">
            <div class="level">
                <div class="level-left">
                    <div class="level-item">
                        <a class="button is-rounded is-text" th:href="@{/admin}" href="admin.html">
                            <ion-icon size="large" name="chevron-back-circle-outline"/>
                        </a>
                    </div>
                    <div class="level-item">
                        <h1 class="title">Items</h1>
                    </div>
                </div>
            </div>

            <div class="tabs is-boxed">
                <ul>
                    <li class="is-active"><a>Lecturers</a></li>
                    <li><a th:href="@{/admin/batchList}" href="batchList.html">Batches</a></li>
                    <li><a th:href="@{/admin/moduleList}" href="moduleList.html">Modules</a></li>
                    <li><a th:href="@{/admin/classroomList}" href="classroomList.html">Classrooms</a></li>
                </ul>
            </div>

            <button class="button is-primary" id="addButton">Add Lecturer</button>

            <br/>
            <br/>

            <table class="table is-fullwidth">
                <thead>
                <tr>
                    <th title="ID">ID</th>
                    <th title="FirstName">First Name</th>
                    <th title="LastName">Last Name</th>
                    <th title="Email">Email</th>
                    <th title="PhoneNumber">Phone Number</th>
                    <th title="Designation">Designation</th>
                    <th title="Action">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th>1</th>
                    <td>Jackie</td>
                    <td>Chan</td>
                    <td>jackiechan@apiit.lk</td>
                    <td>07123765478</td>
                    <td>Senor Lecturer</td>
                    <td>
                        <button class="button is-success">Edit</button>
                        <button class="button is-danger">Delete</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="modal" id="addModal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Add Lecturer</p>
                    <button class="delete" data-bulma-modal="close" aria-label="close"></button>
                </header>
                <section class="modal-card-body">
                    <!-- Content ... -->
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-success">Add</button>
                    <button class="button" data-bulma-modal="close">Cancel</button>
                </footer>
            </div>
        </div>
    </div>
</section>
<script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
<script>
    class BulmaModal {
        constructor(selector) {
            this.element = document.querySelector(selector)
            this.close_data()
        }

        show() {
            this.element.classList.toggle('is-active')
            this.on_show()
        }

        close() {
            this.element.classList.toggle('is-active')
            this.on_close()
        }

        close_data() {
            var modalClose = this.element.querySelectorAll("[data-bulma-modal='close'], .modal-background")
            var that = this
            modalClose.forEach(function(e) {
                e.addEventListener("click", function() {

                    that.element.classList.toggle('is-active')

                    var event = new Event('modal:close')

                    that.element.dispatchEvent(event);
                })
            })
        }

        on_show() {
            var event = new Event('modal:show')

            this.element.dispatchEvent(event);
        }

        on_close() {
            var event = new Event('modal:close')

            this.element.dispatchEvent(event);
        }

        addEventListener(event, callback) {
            this.element.addEventListener(event, callback)
        }
    }

    var button = document.querySelector("#addButton")
    var model = new BulmaModal("#addModal")

    button.addEventListener("click", function () {
        model.show()
    })

    model.addEventListener('modal:show', function() {
        console.log("opened")
    })

    model.addEventListener("modal:close", function() {
        console.log("closed")
    })
</script>
</body>
</html>